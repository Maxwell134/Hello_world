name: Dispatch Event

on:
  workflow_dispatch:

jobs:
  dispatch:
    runs-on: self-hosted

    steps:

      - name: Checkout repo 
        uses: actions/checkout@v3
        
      - name: Install requirements 
        run: |
          # apt update -y  && \
          # apt install -y python3-pip && \
          pip install flask 
        
      - name: Send Repository Dispatch Event
        run: echo "Hello world"

      - name: python same 
        run: python3 main.py
          # curl -X POST \
          #   -H "Accept: application/vnd.github.v3+json" \
          #   -H "Authorization: token ${{ secrets.ACCESS_TOKEN }}" \
          #   https://api.github.com/repos/Maxwell134/K3s_set_up-in-aws/dispatches \
          #   -d '{"event_type": "custom-event"}'
